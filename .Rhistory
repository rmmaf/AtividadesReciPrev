setwd("~/FinsAcadêmicos/AtividadesReciPrev")
install.packages(rvest)
install.packages('rvest')
install.packages('httr')
install.packages('xml2')
html1 <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"))
post
html1 <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"))
html1 <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"))
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
View(request)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
infoHTML <- html_nodes(html1, 'table')
info <- html_text(infoHTML)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
infoHTML <- html_nodes(html1, "table")
info <- html_text(infoHTML)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
infoHTML <- html_nodes(html1, "table")
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
read_html(request)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html <- read_html(request)
View(html)
View(html)
View(html)
View(request)
View(html)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
View(html1)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
final <- read_html(html1)
View(final)
View(html1)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
ajuste <- hmtl_nodes(html1, 'table')
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
ajuste <- html_nodes(html1, 'table')
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
ajuste <- html_text(html1)
typeof(html1)
typeof(request)
request
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "raw")
typeof(html1)
View(html1)
View(request)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "parsed")
View(html1)
typeof(html1)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, as = "text", type = 'text/html')
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, as = "parsed", type = 'text/html')
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, as = "parsed", type = 'text/html', encoding = 'UTF-8')
View(html1)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, as = "text", type = 'text/html', encoding = 'UTF-8')
View(html1)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, as = "parsed", type = 'text/html', encoding = 'UTF-8')
View(html1)
View(html1)
View(html1)
View(html1)
typeof(html1)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, as = "parsed", type = 'text/html', encoding = 'UTF-8')
text <- html_text(html1)
view(text)
View(text)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
install.packages('rvest')
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
html1
View(html1)
read_html(html1)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
html1 <- content(request, "text")
teste <- read_html(html1)
View(teste)
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
content(request, "text") %>% read_html() -> teste
View(teste)
View(teste)
teste
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
content(request, "text") %>% read_html() %>% html_table() -> tabelaMain
View(tabelaMain)
View(tabelaMain)
View(tabelaMain)
tabelaMain
content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes("tbody tr td a") %>%
xml_attr("href") -> links
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes("tbody tr td a") %>%
xml_attr("href") -> links
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes("tbody tr td a") %>%
xml_attr("href") -> links
request
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes("tbody tr td a") %>%
xml_attr("href") -> links
tabela <- content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes('table') %>%
html_table()
View(tabela)
View(tabela)
tabela
typeof(tabela)
length(tabela)
class(tabela)
tabela[[1]]
links
links[1]
links[2]
links[3]
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes("tbody tr td a") %>%
xml_attr("href") -> links
links <- unique(links)
tabela <- content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes('table') %>%
html_table()
links[1]
links[2]
tabela[1][2]
tabela[1]
View(tabela)
tabela[[1]][2]
length(tabela[[1]])
length(tabela[[]])
length(tabela)
length(tabela[[1]])
length(tabela[[1]][1])
length(tabela[[1]][2])
tabela[[1]][2]
length(tabela[[1]])
tabela[[1]]
tabela[[2]]
tabela[[1]][2]
tabela[[1]][2][1]
tabela[[1]][[2, 1]]
tabela[[1]][[2, 2]]
tabela[[1]][[1, 1]]
tabela[[1]][["Nome de Pregão"]]
length(tabela[[1]][["Nome de Pregão"]])
library('rvest')
library('httr')
library('xml2')
url <- 'http://bvmf.bmfbovespa.com.br/cias-listadas/empresas-listadas/BuscaEmpresaListada.aspx?idioma=pt-br'
request <- POST(url, body = list('__EVENTTARGET' = "ctl00:contentPlaceHolderConteudo:BuscaNomeEmpresa1:btnTodas"), encode = "multipart")
content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes("tbody tr td a") %>%
xml_attr("href") -> links
links <- unique(links)
tabela <- content(request, as = 'text', encoding = 'utf-8') %>%
read_html() %>%
html_nodes('table') %>%
html_table()
nome <- tabela[[1]][["Razão Social"]]
nome
